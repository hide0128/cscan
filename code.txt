DUMMY_AWS_ACCESS_KEY_ID = 'AKIAIOSFODNN7EXAMPLE'
DUMMY_AWS_SECRET_ACCESS_KEY = 'wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY'
DUMMY_AWS_REGION = 'us-east-1' # リージョンも指定できます

print("ダミーの認証情報を使用してAWSサービスクライアントを初期化します...")

# boto3を使用して、ハードコードされたダミー認証情報でS3クライアントを作成します
s3_client = boto3.client(
    's3',
    aws_access_key_id=DUMMY_AWS_ACCESS_KEY_ID,
    aws_secret_access_key=DUMMY_AWS_SECRET_ACCESS_KEY,
    region_name=DUMMY_AWS_REGION
)

print("S3クライアントが作成されました。")
print(f"使用されたアクセスキーID: {s3_client._request_signer._credentials.access_key}")

# このクライアントを使用してAPIを呼び出そうとします
# ダミーの認証情報なので、当然ながらAWSはリクエストを拒否します
try:
    print("\nS3バケットの一覧を取得しようと試みます...")
    response = s3_client.list_buckets()
    print("成功！バケット一覧:")
    for bucket in response['Buckets']:
        print(f"  - {bucket['Name']}")

except ClientError as e:
    # 予想されるエラー
    # AWSは提供されたトークン（アクセスキー）が無効であると応答します
    print("\n--- エラーが発生しました ---")
    print(f"エラーコード: {e.response['Error']['Code']}")
    print(f"エラーメッセージ: {e.response['Error']['Message']}")
    print("これは、ダミーの認証情報を使用した際に予想される正しい動作です。")

except Exception as e:
    # その他の予期せぬエラー
    print(f"\n予期せぬエラーが発生しました: {e}")